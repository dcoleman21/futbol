<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <title>Code coverage for Futbol</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <script src='./assets/0.12.2/application.js' type='text/javascript'></script>
    <link href='./assets/0.12.2/application.css' media='screen, projection, print' rel='stylesheet' type='text/css' />
    <link rel="shortcut icon" type="image/png" href="./assets/0.12.2/favicon_yellow.png" />
    <link rel="icon" type="image/png" href="./assets/0.12.2/favicon.png" />
  </head>

  <body>
    <div id="loading">
      <img src="./assets/0.12.2/loading.gif" alt="loading"/>
    </div>
    <div id="wrapper" class="hide">
      <div class="timestamp">Generated <abbr class="timeago" title="2020-06-01T13:38:13-06:00">2020-06-01T13:38:13-06:00</abbr></div>
      <ul class="group_tabs"></ul>

      <div id="content">
        <div class="file_list_container" id="AllFiles">
  <h2>
    <span class="group_name">All Files</span>
    (<span class="covered_percent">
      <span class="yellow">
  88.97%
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="green">
         141.89
       </span>
    </span> hits/line
    )
  </h2>

  <a name="AllFiles"></a>

  <div>
    <b>4</b> files in total.
  </div>

  <div class="t-line-summary">
    <b>272</b> relevant lines,
    <span class="green"><b>242</b> lines covered</span> and
    <span class="red"><b>30</b> lines missed. </span>
    (<span class="yellow">
  88.97%
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#c7fb53452ea448d0116c12774450de2ed2aa8974" class="src_link" title="lib/game_teams.rb">lib/game_teams.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">35</td>
            <td class="cell--number">18</td>
            <td class="cell--number">18</td>
            <td class="cell--number">0</td>
            <td class="cell--number">906.83</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#29dc839e7b737a2f80619c2adcf58a4095e580df" class="src_link" title="lib/games.rb">lib/games.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">25</td>
            <td class="cell--number">13</td>
            <td class="cell--number">13</td>
            <td class="cell--number">0</td>
            <td class="cell--number">714.08</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#bbb8be65a41621c3fe28a4bd587a6f48b167b728" class="src_link" title="lib/stat_tracker.rb">lib/stat_tracker.rb</a></td>
            <td class="yellow strong cell--number t-file__coverage">87.07 %</td>
            <td class="cell--number">334</td>
            <td class="cell--number">232</td>
            <td class="cell--number">202</td>
            <td class="cell--number">30</td>
            <td class="cell--number">29.49</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#32d32fa9c110c0e9e41e40501e23cb800fccded8" class="src_link" title="lib/teams.rb">lib/teams.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">18</td>
            <td class="cell--number">9</td>
            <td class="cell--number">9</td>
            <td class="cell--number">0</td>
            <td class="cell--number">683.00</td>
            
          </tr>
        
      </tbody>
    </table>
  </div>
</div>


        
      </div>

      <div id="footer">
        Generated by <a href="https://github.com/colszowka/simplecov">simplecov</a> v0.18.5
        and simplecov-html v0.12.2<br/>
        using Unit Tests
      </div>

      <div class="source_files">
      
        <div class="source_table" id="c7fb53452ea448d0116c12774450de2ed2aa8974">
  <div class="header">
    <h3>lib/game_teams.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>18</b> relevant lines.
      <span class="green"><b>18</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class GameTeams</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">  attr_reader :game_id,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby">              :team_id,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby">              :hoa,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby">              :result,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">              :settled_in,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">              :head_coach,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">              :goals,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">              :shots,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">              :tackles,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">              :pim,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">              :power_play_opportunities,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">              :power_play_goals,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">              :face_off_win_percentage,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">              :giveaways,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">              :takeaways</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="18">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def initialize(data)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1088" data-linenumber="19">
            <span class="hits">1088</span>
            

            

            <code class="ruby">    @game_id = data[:game_id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1088" data-linenumber="20">
            <span class="hits">1088</span>
            

            

            <code class="ruby">    @team_id = data[:team_id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1088" data-linenumber="21">
            <span class="hits">1088</span>
            

            

            <code class="ruby">    @hoa = data[:hoa]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1088" data-linenumber="22">
            <span class="hits">1088</span>
            

            

            <code class="ruby">    @result = data[:result]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1088" data-linenumber="23">
            <span class="hits">1088</span>
            

            

            <code class="ruby">    @settled_in = data[:settled_in]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1088" data-linenumber="24">
            <span class="hits">1088</span>
            

            

            <code class="ruby">    @head_coach = data[:head_coach]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1088" data-linenumber="25">
            <span class="hits">1088</span>
            

            

            <code class="ruby">    @goals = data[:goals].to_i</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1088" data-linenumber="26">
            <span class="hits">1088</span>
            

            

            <code class="ruby">    @shots = data[:shots].to_i</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1088" data-linenumber="27">
            <span class="hits">1088</span>
            

            

            <code class="ruby">    @tackles = data[:tackles].to_i</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1088" data-linenumber="28">
            <span class="hits">1088</span>
            

            

            <code class="ruby">    @pim = data[:pim].to_i</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1088" data-linenumber="29">
            <span class="hits">1088</span>
            

            

            <code class="ruby">    @power_play_opportunities = data[:powerplayopportunities].to_i</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1088" data-linenumber="30">
            <span class="hits">1088</span>
            

            

            <code class="ruby">    @power_play_goals = data[:powerplaygoals].to_i</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1088" data-linenumber="31">
            <span class="hits">1088</span>
            

            

            <code class="ruby">    @face_off_win_percentage = data[:faceoffwinpercentage].to_f</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1088" data-linenumber="32">
            <span class="hits">1088</span>
            

            

            <code class="ruby">    @giveaways = data[:giveaways].to_i</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1088" data-linenumber="33">
            <span class="hits">1088</span>
            

            

            <code class="ruby">    @takeaways = data[:takeaways].to_i</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="29dc839e7b737a2f80619c2adcf58a4095e580df">
  <div class="header">
    <h3>lib/games.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>13</b> relevant lines.
      <span class="green"><b>13</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Games</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">  attr_reader :game_id,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby">              :season,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby">              :type,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby">              :date_time,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">              :away_team_id,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">              :home_team_id,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">              :away_goals,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">              :home_goals,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">              :venue,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">              :venue_link</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="13">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def initialize(data)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="928" data-linenumber="14">
            <span class="hits">928</span>
            

            

            <code class="ruby">    @game_id = data[:game_id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="928" data-linenumber="15">
            <span class="hits">928</span>
            

            

            <code class="ruby">    @season = data[:season]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="928" data-linenumber="16">
            <span class="hits">928</span>
            

            

            <code class="ruby">    @type = data[:type]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="928" data-linenumber="17">
            <span class="hits">928</span>
            

            

            <code class="ruby">    @date_time = data[:date_time]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="928" data-linenumber="18">
            <span class="hits">928</span>
            

            

            <code class="ruby">    @away_team_id = data[:away_team_id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="928" data-linenumber="19">
            <span class="hits">928</span>
            

            

            <code class="ruby">    @home_team_id = data[:home_team_id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="928" data-linenumber="20">
            <span class="hits">928</span>
            

            

            <code class="ruby">    @away_goals = data[:away_goals].to_i</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="928" data-linenumber="21">
            <span class="hits">928</span>
            

            

            <code class="ruby">    @home_goals = data[:home_goals].to_i</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="928" data-linenumber="22">
            <span class="hits">928</span>
            

            

            <code class="ruby">    @venue = data[:venue]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="928" data-linenumber="23">
            <span class="hits">928</span>
            

            

            <code class="ruby">    @venue_link = data[:venue_link]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="bbb8be65a41621c3fe28a4bd587a6f48b167b728">
  <div class="header">
    <h3>lib/stat_tracker.rb</h3>
    <h4>
      <span class="yellow">
  87.07%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>232</b> relevant lines.
      <span class="green"><b>202</b> lines covered</span> and
      <span class="red"><b>30</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &#39;csv&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">require_relative &#39;games&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require_relative &#39;teams&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">require_relative &#39;game_teams&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">class StatTracker</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">  attr_reader :games, :teams, :game_teams</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def self.from_csv(data)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="960" data-linenumber="9">
            <span class="hits">960</span>
            

            

            <code class="ruby">    @games_collection = CSV.read(data[:games], headers: true, header_converters: :symbol).map {|row| Games.new(row)}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1056" data-linenumber="10">
            <span class="hits">1056</span>
            

            

            <code class="ruby">    @teams_collection = CSV.read(data[:teams], headers: true, header_converters: :symbol).map {|row| Teams.new(row)}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1120" data-linenumber="11">
            <span class="hits">1120</span>
            

            

            <code class="ruby">    @game_teams_collection = CSV.read(data[:game_teams], headers: true, header_converters: :symbol).map {|row| GameTeams.new(row)}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="32" data-linenumber="12">
            <span class="hits">32</span>
            

            

            <code class="ruby">    StatTracker.new(@games_collection, @teams_collection, @game_teams_collection)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="15">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def initialize(games_collection, teams_collection, game_teams_collection)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="32" data-linenumber="16">
            <span class="hits">32</span>
            

            

            <code class="ruby">    @games      = games_collection</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="32" data-linenumber="17">
            <span class="hits">32</span>
            

            

            <code class="ruby">    @teams      = teams_collection</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="32" data-linenumber="18">
            <span class="hits">32</span>
            

            

            <code class="ruby">    @game_teams = game_teams_collection</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="21">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def highest_total_score</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="22">
            <span class="hits">30</span>
            

            

            <code class="ruby">    @games.map {|game| game.away_goals + game.home_goals}.max</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="25">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def lowest_total_score</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="26">
            <span class="hits">30</span>
            

            

            <code class="ruby">    @games.map {|game| game.away_goals + game.home_goals}.min</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="29">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def percentage_home_wins</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="30">
            <span class="hits">35</span>
            

            

            <code class="ruby">    home_games_won = @game_teams.find_all {|game| game.hoa == &quot;home&quot; &amp;&amp; game.result == &quot;WIN&quot;}.count</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="31">
            <span class="hits">35</span>
            

            

            <code class="ruby">    total_games = @game_teams.map {|game| game.game_id}.uniq.count</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="33">
            <span class="hits">1</span>
            

            

            <code class="ruby">    result = (home_games_won.to_f / total_games.to_f)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="34">
            <span class="hits">1</span>
            

            

            <code class="ruby">    result.round(2)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="37">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def percentage_visitor_wins</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="38">
            <span class="hits">35</span>
            

            

            <code class="ruby">    visitor_games_won = @game_teams.find_all {|game| game.hoa == &quot;away&quot; &amp;&amp; game.result == &quot;WIN&quot;}.count</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="39">
            <span class="hits">35</span>
            

            

            <code class="ruby">    total_games = @game_teams.map {|game| game.game_id}.uniq.count</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="41">
            <span class="hits">1</span>
            

            

            <code class="ruby">    result = (visitor_games_won.to_f / total_games.to_f)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="42">
            <span class="hits">1</span>
            

            

            <code class="ruby">    result.round(2)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="45">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def percentage_ties</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="46">
            <span class="hits">35</span>
            

            

            <code class="ruby">    ties = @game_teams.find_all {|game| game.result == &quot;TIE&quot;}.count / 2</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="47">
            <span class="hits">35</span>
            

            

            <code class="ruby">    total_games = @game_teams.map {|game| game.game_id}.uniq.count</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="49">
            <span class="hits">1</span>
            

            

            <code class="ruby">    result = (ties.to_f / total_games.to_f)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="50">
            <span class="hits">1</span>
            

            

            <code class="ruby">    result.round(2)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="53">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def count_of_games_by_season</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="54">
            <span class="hits">1</span>
            

            

            <code class="ruby">    seasons = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="55">
            <span class="hits">1</span>
            

            

            <code class="ruby">    @games.group_by do |game|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="870" data-linenumber="56">
            <span class="hits">870</span>
            

            

            <code class="ruby">      seasons[game.season] = games.count{|index| index.season == game.season}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="58">
            <span class="hits">1</span>
            

            

            <code class="ruby">    seasons</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="61">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def average_goals_per_game</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="62">
            <span class="hits">1</span>
            

            

            <code class="ruby">    goals = 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="63">
            <span class="hits">35</span>
            

            

            <code class="ruby">    total_games = @game_teams.map {|game| game.game_id}.uniq.count</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="64">
            <span class="hits">35</span>
            

            

            <code class="ruby">    @game_teams.sum {|game| goals += game.goals}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="65">
            <span class="hits">1</span>
            

            

            <code class="ruby">    average = (goals.to_f / total_games.to_f)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="66">
            <span class="hits">1</span>
            

            

            <code class="ruby">    average.round(2)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="69">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def average_goals_by_season</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="70">
            <span class="hits">1</span>
            

            

            <code class="ruby">    goals = 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="71">
            <span class="hits">30</span>
            

            

            <code class="ruby">    hash = @games.group_by {|game| game.season}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="73">
            <span class="hits">1</span>
            

            

            <code class="ruby">    hash.each do |season, games_array|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="74">
            <span class="hits">5</span>
            

            

            <code class="ruby">      goals = games_array.sum do |game|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="29" data-linenumber="75">
            <span class="hits">29</span>
            

            

            <code class="ruby">        game.away_goals + game.home_goals</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="77">
            <span class="hits">5</span>
            

            

            <code class="ruby">      result = goals / games_array.count.to_f</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="78">
            <span class="hits">5</span>
            

            

            <code class="ruby">      hash[season] = result.round(2)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="80">
            <span class="hits">1</span>
            

            

            <code class="ruby">      hash</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="83">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def count_of_teams</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="84">
            <span class="hits">1</span>
            

            

            <code class="ruby">    @teams.count</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="87">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def best_offense</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="88">
            <span class="hits">1</span>
            

            

            <code class="ruby">    games_by_team_id = @game_teams.group_by do |game|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="34" data-linenumber="89">
            <span class="hits">34</span>
            

            

            <code class="ruby">      game.team_id</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="91">
            <span class="hits">1</span>
            

            

            <code class="ruby">    games_by_team_id.each do |key, games_array|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="92">
            <span class="hits">8</span>
            

            

            <code class="ruby">      total_games = games_array.count</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="93">
            <span class="hits">8</span>
            

            

            <code class="ruby">      total_goals = games_array.sum do |game|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="34" data-linenumber="94">
            <span class="hits">34</span>
            

            

            <code class="ruby">        game.goals</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="96">
            <span class="hits">8</span>
            

            

            <code class="ruby">      average = total_goals / total_games.to_f</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="97">
            <span class="hits">8</span>
            

            

            <code class="ruby">      games_by_team_id[key] = average</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="99">
            <span class="hits">1</span>
            

            

            <code class="ruby">    best = games_by_team_id.key(games_by_team_id.values.max)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="100">
            <span class="hits">6</span>
            

            

            <code class="ruby">    best_team = @teams.each {|team| return team.team_name if team.team_id == best}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="103">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def worst_offense</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="104">
            <span class="hits">1</span>
            

            

            <code class="ruby">    games_by_team_id = @game_teams.group_by do |game|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="34" data-linenumber="105">
            <span class="hits">34</span>
            

            

            <code class="ruby">      game.team_id</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="107">
            <span class="hits">1</span>
            

            

            <code class="ruby">    games_by_team_id.each do |key, games_array|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="108">
            <span class="hits">8</span>
            

            

            <code class="ruby">      total_games = games_array.count</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="109">
            <span class="hits">8</span>
            

            

            <code class="ruby">      total_goals = games_array.sum do |game|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="34" data-linenumber="110">
            <span class="hits">34</span>
            

            

            <code class="ruby">        game.goals</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="112">
            <span class="hits">8</span>
            

            

            <code class="ruby">      average = total_goals / total_games.to_f</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="113">
            <span class="hits">8</span>
            

            

            <code class="ruby">      games_by_team_id[key] = average</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="115">
            <span class="hits">1</span>
            

            

            <code class="ruby">    worst = games_by_team_id.key(games_by_team_id.values.min)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="116">
            <span class="hits">8</span>
            

            

            <code class="ruby">    worst_team = @teams.each {|team| return team.team_name if team.team_id == worst}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="119">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def highest_scoring_visitor</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="120">
            <span class="hits">35</span>
            

            

            <code class="ruby">    away_games = @game_teams.find_all {|game| game.hoa == &quot;away&quot;}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="121">
            <span class="hits">18</span>
            

            

            <code class="ruby">    away_games_by_team = away_games.group_by {|game| game.team_id}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="122">
            <span class="hits">1</span>
            

            

            <code class="ruby">    away_games_by_team.each do |team_id, game_array|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="123">
            <span class="hits">6</span>
            

            

            <code class="ruby">      total_games = game_array.count</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="124">
            <span class="hits">6</span>
            

            

            <code class="ruby">      total_goals = game_array.sum do |game|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="125">
            <span class="hits">17</span>
            

            

            <code class="ruby">        game.goals</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="127">
            <span class="hits">6</span>
            

            

            <code class="ruby">      avg = total_goals / total_games.to_f</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="128">
            <span class="hits">6</span>
            

            

            <code class="ruby">      away_games_by_team[team_id] = avg</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="130">
            <span class="hits">1</span>
            

            

            <code class="ruby">    best = away_games_by_team.key(away_games_by_team.values.max)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="131">
            <span class="hits">6</span>
            

            

            <code class="ruby">    best_team = @teams.each {|team| return team.team_name if team.team_id == best}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="134">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def highest_scoring_home_team</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="135">
            <span class="hits">35</span>
            

            

            <code class="ruby">    home_games = @game_teams.find_all {|game| game.hoa == &quot;home&quot;}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="136">
            <span class="hits">18</span>
            

            

            <code class="ruby">    home_games_by_team = home_games.group_by {|game| game.team_id}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="137">
            <span class="hits">1</span>
            

            

            <code class="ruby">    home_games_by_team.each do |team_id, game_array|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="138">
            <span class="hits">7</span>
            

            

            <code class="ruby">      total_games = game_array.count</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="139">
            <span class="hits">7</span>
            

            

            <code class="ruby">      total_goals = game_array.sum do |game|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="140">
            <span class="hits">17</span>
            

            

            <code class="ruby">        game.goals</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="142">
            <span class="hits">7</span>
            

            

            <code class="ruby">      avg = total_goals / total_games.to_f</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="143">
            <span class="hits">7</span>
            

            

            <code class="ruby">      home_games_by_team[team_id] = avg</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="145">
            <span class="hits">1</span>
            

            

            <code class="ruby">    best = home_games_by_team.key(home_games_by_team.values.max)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="146">
            <span class="hits">9</span>
            

            

            <code class="ruby">    best_team = @teams.each {|team| return team.team_name if team.team_id == best}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="147">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="148">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="149">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def lowest_scoring_visitor</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="150">
            <span class="hits">35</span>
            

            

            <code class="ruby">    away_games = @game_teams.find_all {|game| game.hoa == &quot;away&quot;}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="151">
            <span class="hits">18</span>
            

            

            <code class="ruby">    away_games_by_team = away_games.group_by {|game| game.team_id}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="152">
            <span class="hits">1</span>
            

            

            <code class="ruby">    away_games_by_team.each do |team_id, game_array|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="153">
            <span class="hits">6</span>
            

            

            <code class="ruby">      total_games = game_array.count</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="154">
            <span class="hits">6</span>
            

            

            <code class="ruby">      total_goals = game_array.sum do |game|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="155">
            <span class="hits">17</span>
            

            

            <code class="ruby">        game.goals</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="156">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="157">
            <span class="hits">6</span>
            

            

            <code class="ruby">      avg = total_goals / total_games.to_f</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="158">
            <span class="hits">6</span>
            

            

            <code class="ruby">      away_games_by_team[team_id] = avg</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="159">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="160">
            <span class="hits">1</span>
            

            

            <code class="ruby">    worst = away_games_by_team.key(away_games_by_team.values.min)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="161">
            <span class="hits">8</span>
            

            

            <code class="ruby">    worst_team = @teams.each {|team| return team.team_name if team.team_id == worst}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="162">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="163">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="164">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def lowest_scoring_home_team</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="165">
            <span class="hits">35</span>
            

            

            <code class="ruby">    home_games = @game_teams.find_all {|game| game.hoa == &quot;home&quot;}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="166">
            <span class="hits">18</span>
            

            

            <code class="ruby">    home_games_by_team = home_games.group_by {|game| game.team_id}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="167">
            <span class="hits">1</span>
            

            

            <code class="ruby">    home_games_by_team.each do |team_id, game_array|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="168">
            <span class="hits">7</span>
            

            

            <code class="ruby">      total_games = game_array.count</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="169">
            <span class="hits">7</span>
            

            

            <code class="ruby">      total_goals = game_array.sum do |game|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="170">
            <span class="hits">17</span>
            

            

            <code class="ruby">        game.goals</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="171">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="172">
            <span class="hits">7</span>
            

            

            <code class="ruby">      avg = total_goals / total_games.to_f</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="173">
            <span class="hits">7</span>
            

            

            <code class="ruby">      home_games_by_team[team_id] = avg</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="174">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="175">
            <span class="hits">1</span>
            

            

            <code class="ruby">    worst = home_games_by_team.key(home_games_by_team.values.min)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="176">
            <span class="hits">8</span>
            

            

            <code class="ruby">    worst_team = @teams.each {|team| return team.team_name if team.team_id == worst}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="179">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def winningest_coach(season_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="180">
            <span class="hits">30</span>
            

            

            <code class="ruby">    season_games = @games.find_all {|game| game.season == season_id}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="22" data-linenumber="181">
            <span class="hits">22</span>
            

            

            <code class="ruby">    season_games_ids = season_games.map {|game| game.game_id}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="182">
            <span class="hits">35</span>
            

            

            <code class="ruby">    team_games_by_season = @game_teams.find_all {|game| season_games_ids.include?(game.game_id)}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="183">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27" data-linenumber="184">
            <span class="hits">27</span>
            

            

            <code class="ruby">    coach_wins = games_by_coach = team_games_by_season.group_by {|team| team.head_coach}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="185">
            <span class="hits">1</span>
            

            

            <code class="ruby">    games_by_coach.each do |k,v|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="31" data-linenumber="186">
            <span class="hits">31</span>
            

            

            <code class="ruby">      result = v.find_all {|game| game.result == &quot;WIN&quot;}.count</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="187">
            <span class="hits">5</span>
            

            

            <code class="ruby">      games_by_coach[k] = result</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="188">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="189">
            <span class="hits">6</span>
            

            

            <code class="ruby">    coach_wins.max_by {|coach, wins| wins}.first</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="190">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="191">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="192">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def worst_coach(season_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="193">
            <span class="hits">30</span>
            

            

            <code class="ruby">    season_games = @games.find_all {|game| game.season == season_id}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="22" data-linenumber="194">
            <span class="hits">22</span>
            

            

            <code class="ruby">    season_games_ids = season_games.map {|game| game.game_id}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="195">
            <span class="hits">35</span>
            

            

            <code class="ruby">    team_games_by_season = @game_teams.find_all {|game| season_games_ids.include?(game.game_id)}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="196">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27" data-linenumber="197">
            <span class="hits">27</span>
            

            

            <code class="ruby">    coach_wins = games_by_coach = team_games_by_season.group_by {|team| team.head_coach}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="198">
            <span class="hits">1</span>
            

            

            <code class="ruby">    games_by_coach.each do |k,v|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="31" data-linenumber="199">
            <span class="hits">31</span>
            

            

            <code class="ruby">      result = v.find_all {|game| game.result == &quot;WIN&quot;}.count</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="200">
            <span class="hits">5</span>
            

            

            <code class="ruby">      games_by_coach[k] = result</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="201">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="202">
            <span class="hits">6</span>
            

            

            <code class="ruby">    coach_wins.min_by {|coach, wins| wins}.first</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="203">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="204">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="205">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def most_accurate_team(season_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="206">
            <span class="hits">30</span>
            

            

            <code class="ruby">    season_games = @games.find_all {|game| game.season == season_id}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="22" data-linenumber="207">
            <span class="hits">22</span>
            

            

            <code class="ruby">    season_games_ids = season_games.map {|game| game.game_id}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="208">
            <span class="hits">35</span>
            

            

            <code class="ruby">    teams_by_season = @game_teams.find_all {|game| season_games_ids.include?(game.game_id)}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="209">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27" data-linenumber="210">
            <span class="hits">27</span>
            

            

            <code class="ruby">    data_by_teams = teams_by_season.group_by {|team| team.team_id}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="211">
            <span class="hits">1</span>
            

            

            <code class="ruby">        new_hash = data_by_teams.transform_values do |game_array|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="57" data-linenumber="212">
            <span class="hits">57</span>
            

            

            <code class="ruby">          game_array.sum {|game| game.goals.to_f} / game_array.sum {|game| game.shots}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="213">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="31" data-linenumber="214">
            <span class="hits">31</span>
            

            

            <code class="ruby">        @teams.find {|team| team.team_id == new_hash.max_by {|team_id, ratio| ratio}.first}.team_name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="215">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="216">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="217">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def least_accurate_team(season_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="218">
            <span class="hits">30</span>
            

            

            <code class="ruby">    season_games = @games.find_all {|game| game.season == season_id}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="22" data-linenumber="219">
            <span class="hits">22</span>
            

            

            <code class="ruby">    season_games_ids = season_games.map {|game| game.game_id}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="220">
            <span class="hits">35</span>
            

            

            <code class="ruby">    teams_by_season = @game_teams.find_all {|game| season_games_ids.include?(game.game_id)}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="221">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27" data-linenumber="222">
            <span class="hits">27</span>
            

            

            <code class="ruby">    data_by_teams = teams_by_season.group_by {|team| team.team_id}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="223">
            <span class="hits">1</span>
            

            

            <code class="ruby">        new_hash = data_by_teams.transform_values do |game_array|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="57" data-linenumber="224">
            <span class="hits">57</span>
            

            

            <code class="ruby">          game_array.sum {|game| game.goals.to_f} / game_array.sum {|game| game.shots}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="225">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="43" data-linenumber="226">
            <span class="hits">43</span>
            

            

            <code class="ruby">        @teams.find {|team| team.team_id == new_hash.min_by {|team_id, ratio| ratio}.first}.team_name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="227">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="228">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="229">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def most_tackles(season_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="230">
            <span class="hits">30</span>
            

            

            <code class="ruby">    season_games = @games.find_all {|game| game.season == season_id}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="22" data-linenumber="231">
            <span class="hits">22</span>
            

            

            <code class="ruby">    season_games_ids = season_games.map {|game| game.game_id}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="232">
            <span class="hits">35</span>
            

            

            <code class="ruby">    teams_by_season = @game_teams.find_all {|game| season_games_ids.include?(game.game_id)}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="233">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27" data-linenumber="234">
            <span class="hits">27</span>
            

            

            <code class="ruby">    data_by_teams = teams_by_season.group_by {|team| team.team_id}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="235">
            <span class="hits">1</span>
            

            

            <code class="ruby">        new_hash = data_by_teams.transform_values do |game_array|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="31" data-linenumber="236">
            <span class="hits">31</span>
            

            

            <code class="ruby">          game_array.sum {|game| game.tackles}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="237">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="31" data-linenumber="238">
            <span class="hits">31</span>
            

            

            <code class="ruby">        @teams.find {|team| team.team_id == new_hash.max_by {|team_id, ratio| ratio}.first}.team_name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="239">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="240">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="241">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def fewest_tackles(season_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="242">
            <span class="hits">30</span>
            

            

            <code class="ruby">    season_games = @games.find_all {|game| game.season == season_id}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="22" data-linenumber="243">
            <span class="hits">22</span>
            

            

            <code class="ruby">    season_games_ids = season_games.map {|game| game.game_id}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="244">
            <span class="hits">35</span>
            

            

            <code class="ruby">    teams_by_season = @game_teams.find_all {|game| season_games_ids.include?(game.game_id)}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="245">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27" data-linenumber="246">
            <span class="hits">27</span>
            

            

            <code class="ruby">    data_by_teams = teams_by_season.group_by {|team| team.team_id}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="247">
            <span class="hits">1</span>
            

            

            <code class="ruby">        new_hash = data_by_teams.transform_values do |game_array|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="31" data-linenumber="248">
            <span class="hits">31</span>
            

            

            <code class="ruby">          game_array.sum {|game| game.tackles}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="249">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="37" data-linenumber="250">
            <span class="hits">37</span>
            

            

            <code class="ruby">        @teams.find {|team| team.team_id == new_hash.min_by {|team_id, ratio| ratio}.first}.team_name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="251">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="252">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="253">
            
            

            

            <code class="ruby">  # Team Statistics - All methods take a team id as an argument</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="254">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def team_info(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="255">
            <span class="hits">3</span>
            

            

            <code class="ruby">    found = @teams.find {|team| team.team_id == team_id}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="256">
            <span class="hits">1</span>
            

            

            <code class="ruby">    {&#39;team_id&#39; =&gt; found.team_id, &#39;franchise_id&#39; =&gt; found.franchise_id, &#39;team_name&#39; =&gt; found.team_name, &#39;abbreviation&#39; =&gt; found.abbreviation, &#39;link&#39; =&gt; found.link}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="257">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="258">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="259">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def best_season(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="60" data-linenumber="260">
            <span class="hits">60</span>
            

            

            <code class="ruby">    team_games = @games.find_all {|game| game.away_team_id == team_id || game.home_team_id == team_id}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="261">
            <span class="hits">18</span>
            

            

            <code class="ruby">    team_games_by_season = team_games.group_by {|game| game.season}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="262">
            <span class="hits">2</span>
            

            

            <code class="ruby">    team_games_by_season.each do |season, season_games|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="263">
            <span class="hits">20</span>
            

            

            <code class="ruby">      season_game_ids = season_games.map{|game| game.game_id}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="140" data-linenumber="264">
            <span class="hits">140</span>
            

            

            <code class="ruby">      team_game_info = @game_teams.find_all {|game| game.team_id == team_id &amp;&amp; season_game_ids.include?(game.game_id)}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="265">
            <span class="hits">4</span>
            

            

            <code class="ruby">      wins = 0.0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="266">
            <span class="hits">18</span>
            

            

            <code class="ruby">      team_game_info.each {|game| wins += 1.0 if game.result == &quot;WIN&quot;}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="267">
            <span class="hits">4</span>
            

            

            <code class="ruby">      percent = wins / team_game_info.length</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="268">
            <span class="hits">4</span>
            

            

            <code class="ruby">      team_games_by_season[season] = percent</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="269">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="270">
            <span class="hits">6</span>
            

            

            <code class="ruby">    team_games_by_season.max_by {|season, percent| percent}.first</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="271">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="272">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="273">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def worst_season(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="274">
            
            

            

            <code class="ruby">    team_games = @games.find_all {|game| game.away_team_id == team_id || game.home_team_id == team_id}</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="275">
            
            

            

            <code class="ruby">    team_games_by_season = team_games.group_by {|game| game.season}</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="276">
            
            

            

            <code class="ruby">    team_games_by_season.each do |season, season_games|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="277">
            
            

            

            <code class="ruby">      season_game_ids = season_games.map{|game| game.game_id}</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="278">
            
            

            

            <code class="ruby">      team_game_info = @game_teams.find_all {|game| game.team_id == team_id &amp;&amp; season_game_ids.include?(game.game_id)}</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="279">
            
            

            

            <code class="ruby">      wins = 0.0</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="280">
            
            

            

            <code class="ruby">      team_game_info.each {|game| wins += 1.0 if game.result == &quot;WIN&quot;}</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="281">
            
            

            

            <code class="ruby">      percent = wins / team_game_info.length</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="282">
            
            

            

            <code class="ruby">      team_games_by_season[season] = percent</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="283">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="284">
            
            

            

            <code class="ruby">    team_games_by_season.min_by {|season, percent| percent}.first</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="285">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="286">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="287">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def average_win_percentage(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="105" data-linenumber="288">
            <span class="hits">105</span>
            

            

            <code class="ruby">    games_by_team_id = @game_teams.find_all {|game| game.team_id == team_id}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="289">
            <span class="hits">3</span>
            

            

            <code class="ruby">    total = games_by_team_id.count</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="290">
            <span class="hits">3</span>
            

            

            <code class="ruby">    wins = 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="291">
            <span class="hits">3</span>
            

            

            <code class="ruby">    games_by_team_id.each do |game|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="21" data-linenumber="292">
            <span class="hits">21</span>
            

            

            <code class="ruby">      wins += 1 if game.result == &quot;WIN&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="293">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="294">
            <span class="hits">3</span>
            

            

            <code class="ruby">    (wins / total.to_f).round(2)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="295">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="296">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="297">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def most_goals_scored(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="298">
            <span class="hits">35</span>
            

            

            <code class="ruby">    most_goals = @game_teams.find_all {|game| game.team_id == team_id}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="299">
            <span class="hits">10</span>
            

            

            <code class="ruby">    most_goals.max_by {|game| game.goals}.goals</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="300">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="301">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="302">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def fewest_goals_scored(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="303">
            <span class="hits">35</span>
            

            

            <code class="ruby">    least_goals = @game_teams.find_all {|game| game.team_id == team_id}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="304">
            <span class="hits">7</span>
            

            

            <code class="ruby">    least_goals.min_by {|game| game.goals}.goals</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="305">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="306">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="307">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def favorite_opponent(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="308">
            
            

            

            <code class="ruby">    team_games = @games.find_all {|game| game.away_team_id == team_id || game.home_team_id == team_id}</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="309">
            
            

            

            <code class="ruby">    game_ids = team_games.map {|game| game.game_id}</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="310">
            
            

            

            <code class="ruby">    opposing_team_games = @game_teams.find_all {|game| game_ids.include?(game.game_id) &amp;&amp; game.team_id != team_id}</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="311">
            
            

            

            <code class="ruby">    opposing_teams = opposing_team_games.group_by {|game| game.team_id}</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="312">
            
            

            

            <code class="ruby">    hash = opposing_teams.transform_values do |games|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="313">
            
            

            

            <code class="ruby">      wins = 0.0</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="314">
            
            

            

            <code class="ruby">      games.each {|game| wins += 1.0 if game.result == &quot;WIN&quot;}</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="315">
            
            

            

            <code class="ruby">      wins / games.length.to_f</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="316">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="317">
            
            

            

            <code class="ruby">    opp_team_id = hash.min_by {|game, ratio| ratio}.first</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="318">
            
            

            

            <code class="ruby">    @teams.find {|team| team.team_id == opp_team_id}.team_name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="319">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="320">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="321">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def rival(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="322">
            
            

            

            <code class="ruby">    team_games = @games.find_all {|game| game.away_team_id == team_id || game.home_team_id == team_id}</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="323">
            
            

            

            <code class="ruby">    game_ids = team_games.map {|game| game.game_id}</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="324">
            
            

            

            <code class="ruby">    opposing_team_games = @game_teams.find_all {|game| game_ids.include?(game.game_id) &amp;&amp; game.team_id != team_id}</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="325">
            
            

            

            <code class="ruby">    opposing_teams = opposing_team_games.group_by {|game| game.team_id}</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="326">
            
            

            

            <code class="ruby">    hash = opposing_teams.transform_values do |games|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="327">
            
            

            

            <code class="ruby">      wins = 0.0</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="328">
            
            

            

            <code class="ruby">      games.each {|game| wins += 1.0 if game.result == &quot;WIN&quot;}</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="329">
            
            

            

            <code class="ruby">      wins / games.length.to_f</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="330">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="331">
            
            

            

            <code class="ruby">    opp_team_id = hash.max_by {|game, ratio| ratio}.first</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="332">
            
            

            

            <code class="ruby">    @teams.find {|team| team.team_id == opp_team_id}.team_name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="333">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="334">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="32d32fa9c110c0e9e41e40501e23cb800fccded8">
  <div class="header">
    <h3>lib/teams.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>9</b> relevant lines.
      <span class="green"><b>9</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Teams</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">  attr_reader :team_id,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby">              :franchise_id,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby">              :team_name,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby">              :abbreviation,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">              :stadium,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">              :link</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def initialize(data)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1024" data-linenumber="11">
            <span class="hits">1024</span>
            

            

            <code class="ruby">    @team_id = data[:team_id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1024" data-linenumber="12">
            <span class="hits">1024</span>
            

            

            <code class="ruby">    @franchise_id = data[:franchiseid]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1024" data-linenumber="13">
            <span class="hits">1024</span>
            

            

            <code class="ruby">    @team_name = data[:teamname]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1024" data-linenumber="14">
            <span class="hits">1024</span>
            

            

            <code class="ruby">    @abbreviation = data[:abbreviation]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1024" data-linenumber="15">
            <span class="hits">1024</span>
            

            

            <code class="ruby">    @stadium = data[:stadium]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1024" data-linenumber="16">
            <span class="hits">1024</span>
            

            

            <code class="ruby">    @link = data[:link]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
      </div>
    </div>
  </body>
</html>
